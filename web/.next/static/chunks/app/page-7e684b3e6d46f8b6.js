(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4665:(e,t,r)=>{Promise.resolve().then(r.bind(r,7667))},7667:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(5155),l=r(2115);function a(e){let{onSubmit:t}=e,[r,a]=(0,l.useState)("");return(0,s.jsxs)("div",{className:"flex flex-col gap-4 items-center w-full max-w-xl mx-auto mt-6","aria-live":"polite",children:[(0,s.jsx)("textarea",{className:"w-full rounded-lg border border-neutral-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-100 p-4 text-base resize-none shadow-sm transition outline-none",value:r,onChange:e=>a(e.target.value),placeholder:"Describe the vibe, topics, or structure you're looking for...","aria-label":"Course description input",rows:4}),(0,s.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg shadow transition disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{""!==r.trim()&&(t(r.trim()),a(""))},"aria-label":"Submit course blurb",disabled:""===r.trim(),children:"Find Courses"})]})}function n(e){let{courses:t}=e;return(0,s.jsx)("div",{className:"mt-8 grid gap-6 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-5","aria-label":"recommended courses",children:0===t.length?null:t.map((e,t)=>(0,s.jsxs)("div",{className:"bg-white border border-neutral-200 rounded-xl shadow-sm p-6 flex flex-col gap-2 hover:shadow-md transition","aria-label":"Recommended course ".concat(t+1),children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-neutral-900 mb-1",children:e.title}),(0,s.jsx)("h4",{className:"text-xs text-neutral-500 font-mono",children:e.id}),(0,s.jsx)("h3",{className:"text-sm text-blue-700 font-semibold mb-1",children:e.department}),(0,s.jsx)("p",{className:"text-neutral-700 text-sm",children:e.description||"No description available."})]},t))})}function i(){let[e,t]=(0,l.useState)([]),[r,i]=(0,l.useState)(null),[o,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(""),m=async e=>{u(e),i(null),t([]),c(!0);try{{let r=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_blurb:e,num_courses:10})});if(!r.ok)throw Error("Server error");let s=(await r.json()).results.map(e=>({id:e.id,title:e.title,department:e.department,description:e.description||"No description provided"}));t(s)}}catch(e){console.error("Error fetching results:",e),i("Server error. Showing fallback mock data.")}finally{c(!1)}};return(0,s.jsx)("div",{className:"min-h-[70vh] w-full flex flex-col items-center justify-start",children:(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsx)("div",{className:"w-full","aria-label":"Course recommendation container",children:!d&&(0,s.jsx)(a,{onSubmit:m})}),d&&(0,s.jsxs)("div",{className:"mt-6 text-center",children:[(0,s.jsxs)("p",{className:"text-base text-neutral-700 mb-2",children:[(0,s.jsx)("strong",{children:"These are your results for:"}),' "',d,'"']}),(0,s.jsx)("button",{onClick:()=>{u(""),t([]),i(null),c(!1)},className:"inline-block bg-neutral-100 hover:bg-neutral-200 text-neutral-800 font-medium px-4 py-2 rounded-lg border border-neutral-300 shadow-sm transition mt-2","aria-label":"Start a new course search",children:"New Search"})]}),(0,s.jsx)("hr",{className:"my-8 border-neutral-200"}),o&&(0,s.jsx)("div",{className:"text-blue-600 text-center font-medium animate-pulse","aria-live":"polite",children:"Finding courses for you..."}),r&&(0,s.jsx)("div",{className:"text-red-600 text-center font-semibold mt-4","aria-live":"assertive",children:r}),!o&&d&&0===e.length&&(0,s.jsx)("div",{className:"text-center text-neutral-600 mt-6",children:(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"No courses found for:"}),' "',d,'"']})}),!d&&0===e.length&&!o&&(0,s.jsx)("div",{className:"text-center text-neutral-500 mt-6","aria-label":"Example blurb",children:(0,s.jsx)("p",{children:(0,s.jsx)("em",{children:'Try typing something like: "I want an Economics Class"'})})}),(0,s.jsx)(n,{courses:e}),(0,s.jsxs)("div",{className:"text-center mt-12 text-sm text-neutral-400",children:["Not finding what you're looking for? You can also browse the"," ",(0,s.jsx)("a",{href:"https://cab.brown.edu/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline hover:text-blue-800",children:"Courses at Brown (CAB) website"}),"."]})]})})}r(8049);let o=function(){return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-8",children:[(0,s.jsxs)("div",{className:"w-full text-center mt-4",children:[(0,s.jsx)("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-neutral-900 mb-2 drop-shadow-sm",children:"Brown Course Finder"}),(0,s.jsx)("p",{className:"text-neutral-600 text-base sm:text-lg max-w-xl mx-auto",children:"Find the perfect Brown course for your interests and goals."})]}),(0,s.jsx)(i,{})]})}},8049:()=>{}},e=>{e.O(0,[592,441,964,358],()=>e(e.s=4665)),_N_E=e.O()}]);